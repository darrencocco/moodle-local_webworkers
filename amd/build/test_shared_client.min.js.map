{"version":3,"file":"test_shared_client.min.js","sources":["../src/test_shared_client.js"],"sourcesContent":["define(['local_webworkers/web_worker'], function(webWorker) {\n    return {\n        init: function(incomingTextMessageFunction) {\n            let sharedWorker = new SharedWorker(webWorker.getURI(\"local_webworkerstest/sharedworker\"));\n            sharedWorker.port.addEventListener(\"message\", function(event) {\n                switch (event.data?.type) {\n                    case 'TextMessage':\n                        incomingTextMessageFunction(event.data);\n                        break;\n                    default:\n                        break;\n                }\n            });\n            sharedWorker.port.start();\n            sharedWorker.port.postMessage({\n                type: 'TextMessage',\n                clientId: sharedWorker.clientId,\n                contentsString: 'I have for you a modest proposal.',\n            });\n        }\n    };\n});"],"names":["define","webWorker","init","incomingTextMessageFunction","sharedWorker","SharedWorker","getURI","port","addEventListener","event","data","_event$data","type","start","postMessage","clientId","contentsString"],"mappings":"AAAAA,6CAAO,CAAC,gCAAgC,SAASC,iBACtC,CACHC,KAAM,SAASC,iCACPC,aAAe,IAAIC,aAAaJ,UAAUK,OAAO,sCACrDF,aAAaG,KAAKC,iBAAiB,WAAW,SAASC,0BAE1C,qCADDA,MAAMC,mCAANC,YAAYC,MAEZT,4BAA4BM,MAAMC,SAM9CN,aAAaG,KAAKM,QAClBT,aAAaG,KAAKO,YAAY,CAC1BF,KAAM,cACNG,SAAUX,aAAaW,SACvBC,eAAgB"}